<template>
    <div
        v-if="showFloatingCTA"
        class="fixed bottom-6 right-6 z-50 animate-bounce-in"
    >
        <button
            class="flex items-center gap-3 px-6 py-4 bg-gradient-to-r from-primary-500 to-secondary-500 text-white rounded-full font-bold text-lg shadow-2xl hover:shadow-primary-500/50 transition-all transform hover:scale-105"
            @click="scrollToForm"
        >
            <span class="text-2xl">üìù</span>
            <span class="hidden sm:inline">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É—Ä–æ–∫</span>
            <span class="sm:hidden">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</span>
        </button>
    </div>
</template>

<script setup>
import { ref, onMounted } from 'vue';

const showFloatingCTA = ref(false);

const scrollToForm = () => {
    const element = document.querySelector('#form-section');
    if (element) {
        element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
};

onMounted(() => {
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–ª–∞–≤–∞—é—â—É—é –∫–Ω–æ–ø–∫—É –ø–æ—Å–ª–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–Ω–∏–∑
    const handleScroll = () => {
        if (window.scrollY > 500) {
            showFloatingCTA.value = true;
        } else {
            showFloatingCTA.value = false;
        }
    };

    window.addEventListener('scroll', handleScroll);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
    handleScroll();
});
</script>

<style scoped>
@keyframes bounce-in {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.1);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.animate-bounce-in {
    animation: bounce-in 0.5s ease-out;
}
</style>

